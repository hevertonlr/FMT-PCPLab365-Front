<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <input type="hidden" name="id" formControlName="id" />

  <div class="space-y-12">
    <div
      class="grid grid-cols-1 gap-x-8 gap-y-10 border-gray-900/10 pb-5 md:grid-cols-4"
    >
      <div
        class="md:border-r max-md:pb-4 max-md:border-b-4 max-md:border-gradient-to-r gradient-base"
      >
        <div class="flex flex-col space-y-4">
          <button
            type="button"
            *ngFor="let tab of tabs; let i = index"
            class="group transition-colors duration-300 px-4 py-2 flex gap-x-3 items-center rounded-l-md"
            [ngClass]="{
              'border-r-2 border-blue-800 bg-gray-50 text-blue-800  shadow-inner':
                selectedTab === i,
              'text-gray-600 hover:text-blue-800 hover:bg-gray-50 border-transparent hover:border-gray-300':
                selectedTab !== i,
            }"
            (click)="selectTab(i)"
          >
            <ng-icon
              [ngClass]="{
                'text-gray-400 group-hover:text-orange-500': !isActive(i),
                'text-orange-500': isActive(i),
              }"
              class="-ml-0.5 h-6 w-6 transition-colors duration-300"
              size="1.5rem"
              name="{{ tab.icon }}"
            ></ng-icon>
            {{ tab.label }}
          </button>
        </div>
      </div>
      <div class="grid grid-cols-1 gap-6 sm:grid-cols-6 md:col-span-3">
        <div class="sm:col-span-3">
          <label
            for="teacher"
            class="block text-sm font-medium leading-6 text-gray-900"
            >Professor</label
          >
          <div class="relative mt-2">
            <select
              id="teacher"
              name="teacher"
              appValidationStyle
              formControlName="teacher"
              class="form-input"
            >
              <option value="" disabled>Selecione o Professor</option>
              <option *ngFor="let teacher of teachers" [value]="teacher.id">
                {{ teacher.name }}
              </option>
            </select>
          </div>
          <p
            *ngIf="isValid('teacher') === false"
            class="pt-2 -mb-2 text-sm text-red-600"
          >
            {{ getInputErrors("teacher") }}
          </p>
        </div>
        <div class="sm:col-span-3">
          <label
            for="schoolSubject"
            class="block text-sm font-medium leading-6 text-gray-900"
            >Matéria</label
          >
          <div class="relative mt-2">
            <select
              id="schoolSubject"
              name="schoolSubject"
              appValidationStyle
              formControlName="schoolSubject"
              class="form-input"
            >
              <option value="" disabled>Selecione a matéria</option>
              <option
                *ngFor="let schoolSubject of schoolSubjects"
                [value]="schoolSubject.value"
              >
                {{ schoolSubject.value }}
              </option>
            </select>
          </div>
          <p
            *ngIf="isValid('schoolSubject') === false"
            class="pt-2 -mb-2 text-sm text-red-600"
          >
            {{ getInputErrors("schoolSubject") }}
          </p>
        </div>
        <div class="col-span-full">
          <label
            for="testname"
            class="block text-sm font-medium leading-6 text-gray-900"
            >Nome da Avaliação</label
          >
          <div class="relative mt-2">
            <input
              id="testname"
              name="testname"
              appValidationStyle
              formControlName="testname"
              type="text"
              class="form-input"
            />
            <div
              *ngIf="isValid('testname') !== undefined"
              class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"
            >
              <ng-icon
                className="{{
                  isValid('testname') === true
                    ? 'text-green-500'
                    : 'text-red-500'
                }}"
                size="1.25rem"
                name="
                            {{
                  isValid('testname') === true
                    ? 'heroCheckCircleSolid'
                    : 'heroExclamationCircleSolid'
                }}"
              ></ng-icon>
            </div>
          </div>
          <p
            *ngIf="isValid('testname') === false"
            class="pt-2 -mb-2 text-sm text-red-600"
          >
            {{ getInputErrors("testname") }}
          </p>
        </div>
        <div class="sm:col-span-2">
          <label
            for="testdate"
            class="block text-sm font-medium leading-6 text-gray-900"
            >Data da Avaliação</label
          >
          <div class="relative mt-2">
            <input
              id="testdate"
              name="testdate"
              appValidationStyle
              formControlName="testdate"
              type="date"
              class="form-input"
            />
            <div
              *ngIf="isValid('testdate') !== undefined"
              class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"
            >
              <ng-icon
                className="{{
                  isValid('testdate') === true
                    ? 'text-green-500'
                    : 'text-red-500'
                }}"
                size="1.25rem"
                name="
                              {{
                  isValid('testdate') === true
                    ? 'heroCheckCircleSolid'
                    : 'heroExclamationCircleSolid'
                }}"
              ></ng-icon>
            </div>
          </div>
          <p
            *ngIf="isValid('testdate') === false"
            class="pt-2 -mb-2 text-sm text-red-600"
          >
            {{ getInputErrors("testdate") }}
          </p>
        </div>
        <div class="sm:col-span-2">
          <label
            for="student"
            class="block text-sm font-medium leading-6 text-gray-900"
            >Aluno</label
          >
          <div class="relative mt-2">
            <select
              id="student"
              name="student"
              appValidationStyle
              formControlName="student"
              class="form-input"
            >
              <option value="" disabled>Selecione o Aluno</option>
              <option *ngFor="let student of students" [value]="student.id">
                {{ student.name }}
              </option>
            </select>
          </div>
          <p
            *ngIf="isValid('student') === false"
            class="pt-2 -mb-2 text-sm text-red-600"
          >
            {{ getInputErrors("student") }}
          </p>
        </div>
        <div class="sm:col-span-2">
          <label
            for="testgrade"
            class="block text-sm font-medium leading-6 text-gray-900"
            >Nota da Avaliação</label
          >
          <div class="relative mt-2">
            <input
              id="testgrade"
              name="testgrade"
              appValidationStyle
              formControlName="testgrade"
              max="10"
              min="0"
              type="number"
              class="form-input"
            />
            <div
              *ngIf="isValid('testgrade') !== undefined"
              class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"
            >
              <ng-icon
                className="{{
                  isValid('testgrade') === true
                    ? 'text-green-500'
                    : 'text-red-500'
                }}"
                size="1.25rem"
                name="
                              {{
                  isValid('testgrade') === true
                    ? 'heroCheckCircleSolid'
                    : 'heroExclamationCircleSolid'
                }}"
              ></ng-icon>
            </div>
          </div>
          <p
            *ngIf="isValid('testgrade') === false"
            class="pt-2 -mb-2 text-sm text-red-600"
          >
            {{ getInputErrors("testgrade") }}
          </p>
        </div>
      </div>
    </div>
  </div>
  <div
    class="flex items-center justify-end gap-x-6 pt-4 border-t-2 border-gradient-to-r gradient-base"
  >
    <button
      type="button"
      class="rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm disabled:bg-red-200 enabled:cursor-pointer enabled:hover:bg-red-500 enabled:focus-visible:outline enabled:focus-visible:outline-2 enabled:focus-visible:outline-offset-2 enabled:focus-visible:outline-red-600"
      [disabled]="!deleteEnable"
      (click)="onDelete(editObject)"
    >
      Deletar
    </button>
    <button
      type="submit"
      class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
    >
      Salvar
    </button>
  </div>
</form>
